<launch>

  <!-- Proper Output Info -->
  <env name="ROSCONSOLE_FORMAT" value="[${severity}] (${node}) [${time}]: ${message}\n" />

  <node pkg="tf2_ros"
        type="static_transform_publisher"
        name="imu_cam0_transformer"
        args="0.05 0.0 0.0 0.5 -0.5 0.5 -0.5 Base camera_front" />
        <!-- x y z qx qy qz qw frame_id child_frame_id -->
  <node pkg="tf2_ros"
        type="static_transform_publisher"
        name="imu_cam1_transformer"
        args="-0.05 0.0 0.0 0.5 0.5 -0.5 -0.5 Base camera_back" />
        <!-- x y z qx qy qz qw frame_id child_frame_id -->
  <node pkg="tf2_ros"
        type="static_transform_publisher"
        name="imu_cam2_transformer"
        args="0.0 0.05 0.0 0.707 0.0 0.0 -0.707 Base camera_left" />
        <!-- x y z qx qy qz qw frame_id child_frame_id -->
  <node pkg="tf2_ros"
        type="static_transform_publisher"
        name="imu_cam3_transformer"
        args="0.0 -0.05 0.0 0.0 0.707 -0.707 0.0 Base camera_right" />
        <!-- x y z qx qy qz qw frame_id child_frame_id -->

  <node pkg="image_undistort"
        type="image_undistort_node"
        name="cam0_undistorter">
    <rosparam file="$(find background_foreground_segmentation)/launch/isaac_tools/cam0_intr.yaml"/>
    <param name="input_camera_info_from_ros_params" value="true"/>
    <param name="input_camera_namespace" value="cam0"/>
    <param name="output_frame" value="cam0_rectified_frame"/>
    <remap from="input/image" to="/rgb_front"/>
    <remap from="output/image" to="/pickelhaube/cam0/image"/>
    <remap from="output/camera_info" to="/pickelhaube/cam0/camera_info"/>
  </node>
  <node pkg="image_undistort"
        type="image_undistort_node"
        name="cam1_undistorter">
    <rosparam file="$(find background_foreground_segmentation)/launch/isaac_tools/cam1_intr.yaml"/>
    <param name="input_camera_info_from_ros_params" value="true"/>
    <param name="input_camera_namespace" value="cam1"/>
    <param name="output_frame" value="cam1_rectified_frame"/>
    <remap from="input/image" to="/rgb_back"/>
    <remap from="output/image" to="/pickelhaube/cam1/image"/>
    <remap from="output/camera_info" to="/pickelhaube/cam1/camera_info"/>
  </node>
  <node pkg="image_undistort"
        type="image_undistort_node"
        name="cam2_undistorter">
    <rosparam file="$(find background_foreground_segmentation)/launch/isaac_tools/cam2_intr.yaml"/>
    <param name="input_camera_info_from_ros_params" value="true"/>
    <param name="input_camera_namespace" value="cam2"/>
    <param name="output_frame" value="cam2_rectified_frame"/>
    <remap from="input/image" to="/rgb_left"/>
    <remap from="output/image" to="/pickelhaube/cam2/image"/>
    <remap from="output/camera_info" to="/pickelhaube/cam2/camera_info"/>
  </node>
  <node pkg="image_undistort"
        type="image_undistort_node"
        name="cam3_undistorter">
    <rosparam file="$(find background_foreground_segmentation)/launch/isaac_tools/cam3_intr.yaml"/>
    <param name="input_camera_info_from_ros_params" value="true"/>
    <param name="input_camera_namespace" value="cam3"/>
    <param name="output_frame" value="cam3_rectified_frame"/>
    <remap from="input/image" to="/rgb_right"/>
    <remap from="output/image" to="/pickelhaube/cam3/image"/>
    <remap from="output/camera_info" to="/pickelhaube/cam3/camera_info"/>
  </node>
    <node pkg="image_undistort"
        type="image_undistort_node"
        name="depth0_undistorter">
    <rosparam file="$(find background_foreground_segmentation)/launch/isaac_tools/cam0_intr.yaml"/>
    <param name="input_camera_info_from_ros_params" value="true"/>
    <param name="input_camera_namespace" value="cam0"/>
    <remap from="input/image" to="/depth_front"/>
    <remap from="output/image" to="/depth_front/undistort"/>
    <remap from="output/camera_info" to="/depth_front/camera_info"/>
  </node>
</launch>
