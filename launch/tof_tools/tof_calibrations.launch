<launch>

<!-- Proper Output Info -->
  <env name="ROSCONSOLE_FORMAT" value="[${severity}] (${node}) [${time}]: ${message}\n" />

<!--EST with rot-->
    <node pkg="tf2_ros"
        type="static_transform_publisher"
        name="imu_tof0_transformer"
        args="0.067 -0.04 -0.1 -0.410619  -0.5756666  0.410619  -0.5756666 ADIS tof_left" />
    <node pkg="tf2_ros"
        type="static_transform_publisher"
        name="imu_tof1_transformer"
        args="-0.067 -0.04 -0.1 0.410619  -0.5756666  0.410619   0.5756666 ADIS tof_right" />
<!-- x y z qx qy qz qw frame_id child_frame_id -->

    <node pkg="image_undistort"
        type="image_undistort_node"
        name="tof0_undistorter">
        <rosparam file="$(find background_foreground_segmentation)/launch/tof_tools/cam0_intr.yaml"/>
        <param name="input_camera_info_from_ros_params" value="true"/>
        <param name="input_camera_namespace" value="cam0"/>
        <param name="output_frame" value="imu_tof0_transformer"/>
        <remap from="input/image" to="/helios_left/image_raw"/>
        <remap from="output/image" to="/helios_left/image"/>
        <remap from="output/camera_info" to="/helios_left/camera_info"/>
    </node>

    <node pkg="image_undistort"
        type="image_undistort_node"
        name="tof1_undistorter">
        <rosparam file="$(find background_foreground_segmentation)/launch/tof_tools/cam1_intr.yaml"/>
        <param name="input_camera_info_from_ros_params" value="true"/>
        <param name="input_camera_namespace" value="cam1"/>
        <param name="output_frame" value="imu_tof1_transformer"/>
        <remap from="input/image" to="/helios_right/image_raw"/>
        <remap from="output/image" to="/helios_right/image"/>
        <remap from="output/camera_info" to="/helios_right/camera_info"/>
    </node>
</launch>
